#!/usr/bin/env bash

source ${HOME}/.dotfiles/shell/.functions

if ! nginx_installed; then
    abort "Nginx is not installed. Aborting."
fi

if [ $# != 1 ]; then
    abort "Usage: laravel-site [url]";
fi

info "Creating site folder in /var/www/html."
mkdir -p /var/www/html/$1

info "Creating Laravel storage folders."
mkdir -p /var/www/html/$1/storage/app
mkdir -p /var/www/html/$1/storage/framework/cache
mkdir -p /var/www/html/$1/storage/framework/sessions
mkdir -p /var/www/html/$1/storage/framework/testing
mkdir -p /var/www/html/$1/storage/framework/views
mkdir -p /var/www/html/$1/storage/logs

info "Creating Nginx log folders."
mkdir -p /var/log/nginx/$1
