#!/bin/sh

#===================================================================================
# Laravel - Storage Folder
#===================================================================================
#
# DESCRIPTION
# Script that recreates the Laravel "storage" folder structure and adjust
# permissions if specified.
#
#===================================================================================

# Create the directory structure
if [ ! -e "./storage" ]; then
    printf "\033[1;33m\nStorage folder does not exist.\n\n\033[0m"
    exit 0;
fi

# Set proper permissions
sudo chown -R ${USER} storage
sudo chgrp -R www-data storage
sudo chmod 775 storage
cd storage
find . -type d -exec chmod 775 {} \;
find . -type f -exec chmod 664 {} \;
cd ..
